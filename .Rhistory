dis<-dis%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)
hrt1<-hrt1%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)
hrt2<-hrt2%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)
lam<-lam%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)
mam<-mam%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)
sam<-sam%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)
vam<-vam%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)
slp_sc<-slp_sc%>%
separate(timestamp,
into=c("date", "time"),
sep=" ")%>%
select(-time)
View(lam)
View(alt)
View(dis)
View(alt)
View(dis)
View(alt)
View(dis)
View(dis)
View(hrt1)
View(lam)
View(mam)
View(slp)
View(slp)
View(slp_sc)
View(vam)
#Standardize dates and rename variables
alt$date<-mdy(alt$date)
alt<-alt%>%
rename(altitude=Altitude)
dis$date<-mdy(dis$date)
dis<-dis%>%
rename(distance=Distance)
hrt1$date<-mdy(hrt1$date)
hrt1<-hrt1%>%
rename(heartrate=Heartrate)
hrt2$date<-mdy(hrt2$date)
hrt2<-hrt2%>%
rename(heartrate=heartrate)
lam$date<-mdy(lam$date)
lam<-lam%>%
rename(light_act_mins=`Light active minutes`)
mam$date<-mdy(mam$date)
mam<-mam%>%
rename(moderate_act_mins=`Moderate active minutes`)
sam$date<-mdy(sam$date)
sam<-sam%>%
rename(sedentary_mins=`Sedentary minutes`)
slp$Date<-mdy(slp$Date)
slp<-slp%>%
rename(date=Date)
slp_sc$date<-mdy(slp_sc$date)
vam$date<-mdy(vam$date)
vam<-vam%>%
rename(very_act_mins=`Very active minutes`)
View(hrt2)
hrt2<-hrt2%>%
rename(heartrate=Heartrate)
View(slp)
slp<-read_csv("Dataset/Sleep.csv")
View(slp)
slp$Date<-ymd(slp$Date)
slp<-slp%>%
rename(date=Date)
slp<-read_csv("Dataset/Sleep.csv")
View(slp)
slp$Date<-parse_date(slp$Date)
View(slp)
slp<-read_csv("Dataset/Sleep.csv")
slp$Date<-ydm(slp$Date)
table(slp$Date)
slp<-read_csv("Dataset/Sleep.csv")
View(slp)
slp$Date<-as.Date(slp$Date, "%d.%m.%Y")
View(slp)
slp<-read_csv("Dataset/Sleep.csv")
slp<-slp%>%
separate(startTime,
into=c("date", "time"),
sep=" ")%>%
select(-time)
slp<-read_csv("Dataset/Sleep.csv")
slp<-slp%>%
separate(startTime,
into=c("date", "time"),
sep=" ")%>%
select(-time, -Date)
slp$date<-ydm(slp$date)
table(slp$date)
slp<-read_csv("Dataset/Sleep.csv")
slp<-slp%>%
separate(startTime,
into=c("date", "time"),
sep=" ")%>%
select(-time, -Date)
slp$date<-ymd(slp$date)
View(slp_sc)
slp_sc<-read_csv("Dataset/sleep_score.csv")
slp_sc<-slp_sc%>%
separate(timestamp,
into=c("date", "time"),
sep=" ")%>%
select(-time)
slp_sc$date<-ymd(slp_sc$date)
alt<-alt%>%
filter(date>=today()- months(9))%>%
mutate(month=month(date,label=TRUE),
year=year(date))
View(alt)
#Load datasets
alt<-read_csv("Dataset/Altitude.csv")
#Separate date variable
alt<-alt%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)  #To seperate dates and time and remain with dates.
alt$date<-mdy(alt$date)
alt<-alt%>%
rename(altitude=Altitude)
aggregate(alt["altitude"], by=alt["date"], sum)
alt<-aggregate(alt["altitude"], by=alt["date"], sum)
View(alt)
#Load datasets
alt<-read_csv("Dataset/Altitude.csv")
#Separate date variable
alt<-alt%>%
separate(Date,
into=c("date", "time"),
sep=" ")%>%
select(-time)  #To seperate dates and time and remain with dates.
alt$date<-mdy(alt$date)
alt<-alt%>%
rename(altitude=Altitude)
View(alt)
alt2<-aggregate(alt["altitude"], by=alt["date"], sum)
View(alt2)
alt<-aggregate(alt["altitude"], by=alt["date"], sum)
View(alt)
View(dis)
dis<-aggregate(dis["distance"], by=dis["date"], sum)
View(dis)
hrt<-rbind(hrt1,hrt2)
View(hrt1)
View(lam)
View(sam)
View(slp)
View(slp_sc)
View(slp)
View(slp_sc)
View(slp)
View(vam)
View(slp_sc)
View(lam)
View(alt)
View(dis)
View(hrt)
View(hrt)
View(hrt2)
hrt3<-hrt2%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")
library(tidyverse)
library(ggplot2)
library(plotly)
library(lubridate)
hrt3<-hrt2%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")
View(hrt3)
hrt3<-parse_number(hrt3$bpm)
hrt3<-hrt2%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")
hrt3$bpm<-parse_number(hrt3$bpm)
View(hrt3)
hrt3$confidence<-parse_number(hrt3$confidence)
View(hrt3)
hrt<-hrt%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")%>%
parse_number(hrt3$bpm)%>%
parse_number(hrt3$confidence)
hrt<-hrt%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")
View(hrt)
hrt$bpm<-parse_number(hrt$bpm)
View(hrt)
hrt$confidence<-parse_number(hrt3$confidence)
hrt$confidence<-parse_number(hrt$confidence)
#Separate bpm and confidence columns
hrt<-rbind(hrt1,hrt2)
hrt<-hrt%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")%>%
parse_number(hrt$bpm)%>%
parse_number(hrt$confidence)
View(hrt)
hrt<-hrt%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")
hrt<-hrt%>%
separate(heartrate,
into=c("bpm", "confidence"),
sep=",")
View(hrt)
hrt$bpm<-parse_number(hrt$bpm)
View(hrt)
hrt$confidence<-parse_number(hrt$confidence)
View(hrt)
#keep only high confidence recording (2 or 3)
hrt<-hrt%>%
filter(confidence==2|3)
#keep only high confidence recording (2 or 3)
hrt<-hrt%>%
filter(confidence==2| confidence==3)
unique(hrt$confidence)
table(hrt$confidence)
View(hrt)
library(tidyverse)
library(ggplot2)
library(plotly)
library(lubridate)
View(alt)
View(dis)
View(hrt)
hrt2<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(date))
View(hrt2)
hrt2<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(bpm))
hrt2<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm))
View(hrt2)
is.na(hrt$bpm)
colSums(is.na(hrt$bpm))
sum(is.na(hrt$bpm))
hrt2<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm),
avg_bpm=mean(bpm))
View(hrt2)
hrt2<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm),
round(avg_bpm=mean(bpm),2))
rt2<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm),
round(avg_bpm=mean(bpm),2))
hrt2<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm),
avg_bpm=mean(bpm))%>%
as.integer(avg_bpm)
hrt2$avg_bpm<-as.integer(hrt2$avg_bpm)
hrt2<-hrt2%>%
group_by(date)
View(hrt2)
#remove the confidence column
hrt2%>%hrt2%>%
select(-confidence)
#remove the confidence column
hrt2<-hrt2%>%
select(-confidence)
hrt2<-hrt2%>%
group_by(date)
hrt2<-hrt2%>%
group_by(date, bpm, min_bpm, max_bpm, avg_bpm)
hrt2<-hrt2%>%
select(-bpm)
hrt2<-hrt2%>%
select(-bpm)
hrt2<-hrt2%>%
select(-1)
hrt2<-hrt
View(hrt2)
hrt2<-hrt2%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm),
avg_bpm=mean(bpm))
hrt2$avg_bpm<-as.integer(hrt2$avg_bpm)
hrt2<-hrt2%>%
select(-2:-3)
hrt2<-hrt2%>%
group_by(date, min_bpm, max_bpm, avg_bpm)
View(hrt2)
hrt2<-hrt2%>%
filter(distinct())
hrt2<-hrt2%>%
filter(unique())
hrt2<-hrt2%>%
filter(unique(hrt2))
View(hrt2)
hrt2<-hrt2%>%
filter(unique(date))
hrt2<-hrt2%>%
filter(unique.data.frame())
hrt2<-hrt2%>%
filter(unique.data.frame(hrt2))
View(hrt2)
hrt2<-hrt2%>%
filter(unique.data.frame(date))
hrt2<-hrt2%>%
unique.data.frame()
View(hrt2)
hrt2<-hrt
hrt2<-hrt2%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm),
avg_bpm=mean(bpm))
hrt2$avg_bpm<-as.integer(hrt2$avg_bpm)
hrt2<-hrt2%>%
select(-2:-3)%>%
unique.data.frame()
hrt<-hrt%>%
group_by(date)%>%
mutate(min_bpm=min(bpm),
max_bpm=max(bpm),
avg_bpm=mean(bpm))
hrt$avg_bpm<-as.integer(hrt$avg_bpm)
hrt<-hrt%>%
select(-2:-3)%>%
unique.data.frame()
View(lam)
View(hrt)
View(mam)
View(sam)
View(slp)
View(slp_sc)
unique(slp$minutesToFallAsleep)
unique(slp$minutesAfterWakeup)
#remove redundant columns
slp<-slp%>%
select(-logId, -endTime, -minutesToFallAsleep)
map(slp, class)
map_chr(slp$levels, class)
map_int(slp$levels, class)
sum(map_int(slp$levels, class))
View(slp_sc)
table(slp$efficiency)
slp_sc<-slp_sc%>%
select(-1)
slp$levels[1,]
slp$levels[1]
lvl<-slp$levels
lvl<-data.frame(lvl)
View(lvl)
world_cup_str  <-  '
[
{
"team_1": "France",
"team_2": "Croatia",
"game_type": "Final",
"score" : [4, 2]
},
{
"team_1": "Belgium",
"team_2": "England",
"game_type": "3rd/4th Playoff",
"score" : [2, 0]
}
]
'
lvl<-slp$levels
library(jsonlite)
lvl<-fromJSON(lvl)
View(slp)
#setting working directory
getwd()
slp_jsn<-fromJSON("C:/Users/ricky/OneDrive/Desktop/School/R/FitBit/Datasets/Sleep/sleep-2017-02-18.json")
View(slp_jsn)
slp_jsn2<-fromJSON("C:/Users/ricky/OneDrive/Desktop/School/R/FitBit/Datasets/Sleep/sleep-2017-03-20.json")
View(slp_jsn2)
View(slp_jsn2[[20]][[2]])
slp_jsn2$levels
lvl<-slp_jsn2$levels
View(lvl)
lvl_j<-slp_jsn2$levels
View(lvl_j)
View(slp_jsn)
lvl_j<-lvl_j%>%
unnest(summary)
lvl_j<-lvl_j%>%
unnest(cols=c(summary))
json_string  <-  '
[
{
"name": "Sabine",
"age": 36,
"favorite_foods": ["Pumpkin", "Oatmeal"]
},
{
"name": "Zoe",
"age": 40,
"favorite_foods": ["Chicken", "Pizza", "Chocolate"]
},
{
"name": "Heidi",
"age": 40,
"favorite_foods": ["Caesar Salad"]
}
]
'
json_df<-fromJSON(json_string)
View(json_df)
lvl<-slp$levels
map(lvl,function(x) length(x))
map(lvl,function(x) unique(length(x)))
map(lvl,function(x) table(length(x)))
lvl_j<-lvl_j$data
View(lvl_j)
lvl_j<-data.frame(lvl_j)
lvl_j<-unlist(lvl_j)
lvl_j<-data.frame(lvl_j)
View(lvl_j)
lvl_j<-lvl_j%>%
pivot_wider(everything())
View(lam)
View(lvl_j)
lvl_j<-slp_jsn2$levels
lvl_j<-lvl_j$data
lvl_j<-unlist(lvl_j)
lvl_j<-data.frame(lvl_j)
View(lvl_j)
slp$levels[1]
View(slp)
slp$levels[3]
slp2<-slp%>%
if (infoCode==0){separate(levels,
into=c("summary", "restless"),
sep="\n")
} else{separate(levels,
into=c("summary", "deep"),
sep="\n")
}
View(slp)
slp2<-slp%>%
if (infoCode=0){separate(levels,
into=c("summary", "restless"),
sep="\n")
} else{separate(levels,
into=c("summary", "deep"),
sep="\n")
}
slp2<-slp%>%
if (infoCode==0){
separate(levels,
into=c("summary", "restless"),
sep="\n")
} else{
separate(levels,
into=c("summary", "deep"),
sep="\n")
}
slp2<-slp%>%
if (infoCode<1){
separate(levels,
into=c("summary", "restless"),
sep="\n")
} else{
separate(levels,
into=c("summary", "deep"),
sep="\n")
}
